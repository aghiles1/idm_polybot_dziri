// automatically generated by Xtext
grammar fr.unice.polytech.dziri.polybot.Polybot with org.eclipse.xtext.common.Terminals

import "http://fr/unice/polytech/dziri/polybot" 
import "http://www.eclipse.org/emf/2002/Ecore" as ecore

Bot returns Bot:
	{Bot}
	'Bot'
	'{'
		('init' initialPosition=Point)?
		('instructionList' '{' instructionList+=Instruction ( "," instructionList+=Instruction)* '}' )?
	'}';


Instruction returns Instruction:
	Move | IfObstacleDetected | IfObjectDetected;
Move returns Move:
	GoTo | Right | Left | Reverse | Forward;

Point returns Point:
	{Point}
	'Point'
	'('
		x=EInt ';' 
		y=EInt
	')';

EInt returns ecore::EInt:
	'-'? INT;

EString returns ecore::EString:
	STRING | ID;

GoTo returns GoTo:
	{GoTo}
	'GoTo'
	'('
		speed=EInt ';'
		duration=EInt
	')';

Right returns Right:
	{Right}
	'Right'
	'('
		speed=EInt ';'
		duration=EInt
	')';

Left returns Left:
	{Left}
	'Left'
	'('
		speed=EInt ';'
		duration=EInt
	')';

Reverse returns Reverse:
	{Reverse}
	'Reverse'
	'('
		speed=EInt ';'
		duration=EInt
	')';

Forward returns Forward:
	{Forward}
	'Forward'
	'('
		speed=EInt ';'
		duration=EInt 
	')';
	
IfObjectDetected returns IfObjectDetected:
	{IfObjectDetected}
	'IfObjectDetected'
	'{' 
		('listOfInstructions' '{' listOfInstructions+=Instruction ( "," listOfInstructions+=Instruction)* '}' )
	'}';

IfObstacleDetected  returns IfObstacleDetected:
	{IfObstacleDetected}
	'IfObstacleDetected'
	'{' 
		('listOfInstructions' '{' listOfInstructions+=Instruction ( "," listOfInstructions+=Instruction)* '}' )
	'}';